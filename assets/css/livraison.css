
/* ── MODAL ── */
.lv-overlay {
    position:fixed;inset:0;background:rgba(0,0,0,0.55);z-index:99999;
    display:none;align-items:flex-start;justify-content:center;
    backdrop-filter:blur(6px);padding:20px;overflow-y:auto;
}
.lv-overlay.open { display:flex; }
.lv-modal {
    background:white;border-radius:20px;width:100%;max-width:700px;
    box-shadow:0 32px 80px rgba(0,0,0,0.2);
    animation:lvIn 0.3s cubic-bezier(0.34,1.56,0.64,1);margin:auto;
}
@keyframes lvIn {
    from{opacity:0;transform:translateY(28px) scale(0.96);}
    to{opacity:1;transform:translateY(0) scale(1);}
}
.lv-head {
    display:flex;align-items:center;gap:12px;
    padding:20px 24px 16px;border-bottom:1px solid #f0f0f0;
    border-radius:20px 20px 0 0;
}
.lv-head-ico { width:44px;height:44px;border-radius:12px;background:#f0fdf9;color:#00B37E;font-size:1.3rem;display:flex;align-items:center;justify-content:center;flex-shrink:0; }
.lv-head h5 { margin:0;font-weight:800;font-size:1rem; }
.lv-head p  { margin:0;font-size:0.78rem;color:#999; }
.lv-close   { margin-left:auto;background:#f5f5f5;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1rem;color:#555; }
.lv-close:hover { background:#e8e8e8; }

.lv-body { padding:20px 24px 24px; }

/* Onglets */
.lv-tabs { display:flex;gap:6px;margin-bottom:16px; }
.lv-tab  { flex:1;background:#f5f5f5;border:none;border-radius:10px;padding:10px;font-size:0.84rem;font-weight:700;cursor:pointer;color:#888;transition:all 0.15s;display:flex;align-items:center;justify-content:center;gap:7px; }
.lv-tab.active { background:#1a1a1a;color:white; }
.lv-tab-badge  { background:#e8e8e8;border-radius:20px;padding:1px 7px;font-size:0.72rem;color:#555; }
.lv-tab.active .lv-tab-badge { background:rgba(255,255,255,0.2);color:white; }

/* Recherche */
.lv-search { width:100%;border:1.5px solid #ebebeb;border-radius:10px;padding:10px 14px;font-size:0.88rem;outline:none;margin-bottom:14px;transition:border-color 0.15s;box-sizing:border-box; }
.lv-search:focus { border-color:#00B37E; }

/* Grille */
.lv-grid { display:grid;grid-template-columns:1fr 1fr;gap:10px; }
@media(max-width:500px){ .lv-grid{grid-template-columns:1fr;} }

/* Cartes livreurs */
.lv-card {
    border:2px solid #f0f0f0;border-radius:14px;padding:14px;
    cursor:pointer;transition:all 0.15s;position:relative;
    user-select:none;
}
.lv-card * { pointer-events:none; }
.lv-card:hover  { border-color:#00B37E;background:#f9fffe; }
.lv-card.selected { border-color:#00B37E;background:#f0fdf9; }
.lv-card.selected::after {
    content:'✓';position:absolute;top:10px;right:12px;
    background:#00B37E;color:white;width:22px;height:22px;
    border-radius:50%;display:flex;align-items:center;justify-content:center;
    font-size:0.75rem;font-weight:700;pointer-events:none;
}
.lv-card-top  { display:flex;align-items:center;gap:10px;margin-bottom:10px; }
.lv-avatar    { width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#00B37E,#059669);display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:0.9rem;flex-shrink:0; }
.lv-avatar.p  { background:linear-gradient(135deg,#3b82f6,#2563eb); }
.lv-card-name { font-weight:700;font-size:0.88rem;color:#1a1a1a;margin-bottom:2px; }
.lv-card-tel  { font-size:0.76rem;color:#aaa; }
.lv-card-tags { display:flex;flex-wrap:wrap;gap:5px; }
.lv-tag       { background:#f5f5f5;border-radius:6px;padding:3px 8px;font-size:0.72rem;font-weight:600;color:#555; }
.lv-tag.green { background:#f0fdf9;color:#059669; }
.lv-empty     { text-align:center;padding:28px 16px;color:#bbb;font-size:0.84rem; }
.lv-empty i   { font-size:2rem;display:block;margin-bottom:8px; }

/* Footer modal */
.lv-footer     { display:flex;gap:10px;padding:16px 24px 20px;border-top:1px solid #f0f0f0; }
.btn-lv-cancel { flex:1;background:#f5f5f5;border:none;border-radius:12px;padding:13px;font-size:0.88rem;font-weight:700;color:#555;cursor:pointer; }
.btn-lv-cancel:hover { background:#ebebeb; }
.btn-lv-ok {
    flex:2;background:linear-gradient(135deg,#00B37E,#059669);border:none;border-radius:12px;
    padding:13px;font-size:0.88rem;font-weight:700;color:white;cursor:pointer;
    box-shadow:0 4px 14px rgba(0,179,126,0.3);
    display:flex;align-items:center;justify-content:center;gap:7px;
    transition:opacity 0.15s,transform 0.15s;
}
.btn-lv-ok:hover:not(:disabled) { opacity:0.9;transform:translateY(-1px); }
.btn-lv-ok:disabled { background:#ccc;box-shadow:none;cursor:not-allowed;transform:none; }

/* Toast */
.cm-toast {
    position:fixed;bottom:24px;right:24px;background:#1a1a1a;color:white;
    padding:12px 20px;border-radius:12px;font-size:0.88rem;font-weight:500;
    box-shadow:0 8px 32px rgba(0,0,0,0.2);z-index:999999;
    display:flex;align-items:center;gap:8px;
    transform:translateY(80px);opacity:0;
    transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);pointer-events:none;
}
.cm-toast.show { transform:translateY(0);opacity:1; }

.badge-statut { display:inline-flex;align-items:center;gap:6px;padding:7px 14px;border-radius:30px;font-weight:700;font-size:0.8rem; }
.s-en_attente     { background:#fef9ec;color:#b45309;border:1.5px solid #fde68a; }
.s-confirmee      { background:#eff6ff;color:#2563eb;border:1.5px solid #bfdbfe; }
.s-en_preparation { background:#fdf4ff;color:#9333ea;border:1.5px solid #e9d5ff; }
.s-prete          { background:#f0fdf9;color:#059669;border:1.5px solid #a7f3d0; }
.s-en_livraison   { background:#fff7ed;color:#ea580c;border:1.5px solid #fed7aa; }
.s-livree         { background:#f0fdf9;color:#00B37E;border:1.5px solid #6ee7b7; }
.s-annulee        { background:#fff1f2;color:#e11d48;border:1.5px solid #fecdd3; }

/* ── MODAL ── */
.lv-overlay {
    position:fixed;inset:0;background:rgba(0,0,0,0.55);z-index:99999;
    display:none;align-items:flex-start;justify-content:center;
    backdrop-filter:blur(6px);padding:20px;overflow-y:auto;
}
.lv-overlay.open { display:flex; }
.lv-modal {
    background:white;border-radius:20px;width:100%;max-width:700px;
    box-shadow:0 32px 80px rgba(0,0,0,0.2);
    animation:lvIn 0.3s cubic-bezier(0.34,1.56,0.64,1);margin:auto;
}
@keyframes lvIn {
    from{opacity:0;transform:translateY(28px) scale(0.96);}
    to{opacity:1;transform:translateY(0) scale(1);}
}
.lv-head {
    display:flex;align-items:center;gap:12px;
    padding:20px 24px 16px;border-bottom:1px solid #f0f0f0;
    border-radius:20px 20px 0 0;
}
.lv-head-ico { width:44px;height:44px;border-radius:12px;background:#f0fdf9;color:#00B37E;font-size:1.3rem;display:flex;align-items:center;justify-content:center;flex-shrink:0; }
.lv-head h5 { margin:0;font-weight:800;font-size:1rem; }
.lv-head p  { margin:0;font-size:0.78rem;color:#999; }
.lv-close   { margin-left:auto;background:#f5f5f5;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1rem;color:#555; }
.lv-close:hover { background:#e8e8e8; }

.lv-body { padding:20px 24px 24px; }

/* Onglets */
.lv-tabs { display:flex;gap:6px;margin-bottom:16px; }
.lv-tab  { flex:1;background:#f5f5f5;border:none;border-radius:10px;padding:10px;font-size:0.84rem;font-weight:700;cursor:pointer;color:#888;transition:all 0.15s;display:flex;align-items:center;justify-content:center;gap:7px; }
.lv-tab.active { background:#1a1a1a;color:white; }
.lv-tab-badge  { background:#e8e8e8;border-radius:20px;padding:1px 7px;font-size:0.72rem;color:#555; }
.lv-tab.active .lv-tab-badge { background:rgba(255,255,255,0.2);color:white; }

/* Recherche */
.lv-search { width:100%;border:1.5px solid #ebebeb;border-radius:10px;padding:10px 14px;font-size:0.88rem;outline:none;margin-bottom:14px;transition:border-color 0.15s;box-sizing:border-box; }
.lv-search:focus { border-color:#00B37E; }

/* Grille */
.lv-grid { display:grid;grid-template-columns:1fr 1fr;gap:10px; }
@media(max-width:500px){ .lv-grid{grid-template-columns:1fr;} }

/* ✅ FIX : pointer-events:none sur les enfants pour que le click arrive toujours au .lv-card */
.lv-card {
    border:2px solid #f0f0f0;border-radius:14px;padding:14px;
    cursor:pointer;transition:all 0.15s;position:relative;
    user-select:none;
}
.lv-card * { pointer-events:none; } /* ← LE FIX */
.lv-card:hover  { border-color:#00B37E;background:#f9fffe; }
.lv-card.selected { border-color:#00B37E;background:#f0fdf9; }
.lv-card.selected::after {
    content:'✓';position:absolute;top:10px;right:12px;
    background:#00B37E;color:white;width:22px;height:22px;
    border-radius:50%;display:flex;align-items:center;justify-content:center;
    font-size:0.75rem;font-weight:700;pointer-events:none;
}
.lv-card-top  { display:flex;align-items:center;gap:10px;margin-bottom:10px; }
.lv-avatar    { width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#00B37E,#059669);display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:0.9rem;flex-shrink:0; }
.lv-avatar.p  { background:linear-gradient(135deg,#3b82f6,#2563eb); }
.lv-card-name { font-weight:700;font-size:0.88rem;color:#1a1a1a;margin-bottom:2px; }
.lv-card-tel  { font-size:0.76rem;color:#aaa; }
.lv-card-tags { display:flex;flex-wrap:wrap;gap:5px; }
.lv-tag       { background:#f5f5f5;border-radius:6px;padding:3px 8px;font-size:0.72rem;font-weight:600;color:#555; }
.lv-tag.green { background:#f0fdf9;color:#059669; }
.lv-empty     { text-align:center;padding:28px 16px;color:#bbb;font-size:0.84rem; }
.lv-empty i   { font-size:2rem;display:block;margin-bottom:8px; }

/* Footer modal */
.lv-footer     { display:flex;gap:10px;padding:16px 24px 20px;border-top:1px solid #f0f0f0; }
.btn-lv-cancel { flex:1;background:#f5f5f5;border:none;border-radius:12px;padding:13px;font-size:0.88rem;font-weight:700;color:#555;cursor:pointer; }
.btn-lv-cancel:hover { background:#ebebeb; }
.btn-lv-ok {
    flex:2;background:linear-gradient(135deg,#00B37E,#059669);border:none;border-radius:12px;
    padding:13px;font-size:0.88rem;font-weight:700;color:white;cursor:pointer;
    box-shadow:0 4px 14px rgba(0,179,126,0.3);
    display:flex;align-items:center;justify-content:center;gap:7px;
    transition:opacity 0.15s,transform 0.15s;
}
.btn-lv-ok:hover:not(:disabled) { opacity:0.9;transform:translateY(-1px); }
.btn-lv-ok:disabled { background:#ccc;box-shadow:none;cursor:not-allowed;transform:none; }

/* Livreur actuel */
.livreur-box {
    display:flex;align-items:center;gap:12px;
    background:#f0fdf9;border:1.5px solid #d1fae5;
    border-radius:12px;padding:13px 16px;margin-bottom:6px;
}
.btn-desassign {
    margin-left:auto;background:#fff1f2;border:1.5px solid #fecdd3;
    color:#e11d48;border-radius:8px;padding:6px 12px;
    font-size:0.78rem;font-weight:700;cursor:pointer;white-space:nowrap;
}
.btn-desassign:hover { background:#ffe4e6; }

/* Toast */
.cm-toast {
    position:fixed;bottom:24px;right:24px;background:#1a1a1a;color:white;
    padding:12px 20px;border-radius:12px;font-size:0.88rem;font-weight:500;
    box-shadow:0 8px 32px rgba(0,0,0,0.2);z-index:999999;
    display:flex;align-items:center;gap:8px;
    transform:translateY(80px);opacity:0;
    transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);pointer-events:none;
}
.cm-toast.show { transform:translateY(0);opacity:1; }

